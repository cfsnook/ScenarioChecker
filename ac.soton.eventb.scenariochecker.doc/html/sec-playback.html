<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="shortcut icon" href="icons/pyfav.png" type="image/png" />
<link href="index.html" title="Scenario Checker User Manual" rel="start" />
<link href="index.html" title="Scenario Checker User Manual" rel="first" />
<link href="index.html" rel="contents" title="Contents" />
<link rel="index" title="Index" />
<link href="sec-reference.html" rel="next" />
<link href="sec-recording.html" rel="prev" />
<link href="sec-tasks.html" rel="parent" />
<meta name="aesop" content="information" />
<title>4.2 Re-playing a Scenario</title>
</head>
<body>
<div class="navigation">
<div id="top-navigation-panel" xml:id="top-navigation-panel">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class="online-navigation"><a title="4.1 Recording a Scenario" href="sec-recording.html" rel="prev"><img src="icons/previous.png" border="0" height="32" alt="Previous Page" width="32" /></a></td>
<td class="online-navigation"><a title="4 Tasks" href="sec-tasks.html" rel="parent"><img src="icons/up.png" border="0" height="32" alt="Up One Level" width="32" /></a></td>
<td class="online-navigation"><a title="Reference" href="sec-reference.html" rel="next"><img src="icons/next.png" border="0" height="32" alt="Next Page" width="32" /></a></td>
<td align="center" width="100%">Scenario Checker User Manual</td>
<td class="online-navigation"><a href="index.html" rel="contents" title="Table of Contents"><img src="icons/contents.png" border="0" height="32" alt="Contents" width="32" /></a></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" alt="" width="32" /></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" width="32" /></td>
</tr></table>
<div class="online-navigation">
<span><b class="navlabel">Previous:</b>
<a href="sec-recording.html" class="sectref" rel="prev">Recording a Scenario</a></span>
<span><b class="navlabel">Up:</b>
<a href="sec-tasks.html" class="sectref" rel="parent">Tasks</a></span>
<span><b class="navlabel">Next:</b>
<a href="sec-reference.html" class="sectref" rel="next">Reference</a></span>
</div>
<hr /></div>
</div>



<div><h2 id="sec:playback">4.2 Re-playing a Scenario</h2>
<p>With the Scenario Checker in playback mode (see Replay button in Section <a href="sec-recording.html#fig:recording">5</a>), the execution of events is taken from the scenario oracle file being replayed. The user should not try to control the execution of events and an information message will be displayed if she attempts to select events from the Scenario Checker Control Panel. (Note that it is not possible to prevent other animation plug-ins (including the ProB ‘Events’ view) from executing events but this would most likely make the scenario fail. The user presses the Big Step button to tell the Scenario Checker to execute the next recorded external event followed by any enabled internal events (similar to in recording mode). The Scenario Checker then updates the Scenario Checker State view to show the state of any non-private variables that have changed state. The expected value from the recording is shown and any differences are highlighted in red. At any point, the playback can be stopped and an alternative ending can be recorded. </p><p>In playback mode, the Scenario Checker Control Panel buttons have the following function: </p><ul class="itemize">
<li><p><b class="bfseries">Big Step</b> Executes events until completion of the next big step. The external event is taken from the recording. If, after executing the external event, any internal events are enabled, one will be executed at random and according to any priority that has been defined in the model (see section <a href="sec-concepts.html">3</a>). Firing of internal events will continue in this way until none are enabled or a loop is detected. (A loop is detected when the same event has already been executed in this run to completion). </p></li><li><p><b class="bfseries">Small Step</b> Do not use in playback mode. </p></li><li><p><b class="bfseries">Run For..</b> Do not use in playback mode. </p></li><li><p><b class="bfseries">Restart</b> Discards the current scenario execution and restarts the same recorded scenario animation from the <tt class="ttfamily">INITIALISATION</tt>. </p></li><li><p><b class="bfseries">Save</b> Saves the current scenario execution and continues without interruption still in playback. This enables common prefixes to be saved as partial scenarios for later completion. The scenario is saved in a folder called ‘Oracle’ inside the Event-B project. The filename is automatically constructed from the machine name and a timestamp with the extension, ‘oracle’. </p></li><li><p><b class="bfseries">Replay</b> Discards the current scenario execution and restarts the same recorded scenario animation from the <tt class="ttfamily">INITIALISATION</tt>. (i.e. same as Restart) </p></li><li><p><b class="bfseries">Stop</b> Switches to recording mode. The scenario execution is left in whatever state it was during the playback. This allows multiple alternative scenarios to be recorded using a common recorded prefix. </p></li>
</ul><p>In playback mode, the next external event in the recorded scenario (i.e. the event that will be executed when the big step button is next pressed) is highlighted in the list of enabled external events in the Scenario Checker Control Panel. </p><p>In playback mode the Scenario Checker View displays the current value of any non-private variables that have changed value since the last step. The Expected value column displays the corresponding value from the recorded scenario for comparison. If the values are the same the current value is displayed in green. If the values differ the current value is displayed in red. </p><p>When all steps in the recorded scenario have been played, the Scenario Checker automatically switches to recording mode without disturbing the current state of the scenario execution. This allows the scenario to be extended to make a new, longer recorded scenario. </p><div id="fig:playback" class="figure"><center>
<img src="images/img-0006.png" alt="\includegraphics[width=900]{figures/playback}" style="width:900" /> <div class="caption"><b> 6</b>: <span>Scenario Checker in Playback Mode</span></div>  </center></div></div>



<div class="navigation">
<div class="online-navigation">
<hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class="online-navigation"><a title="4.1 Recording a Scenario" href="sec-recording.html" rel="prev"><img src="icons/previous.png" border="0" height="32" alt="Previous Page" width="32" /></a></td>
<td class="online-navigation"><a title="4 Tasks" href="sec-tasks.html" rel="parent"><img src="icons/up.png" border="0" height="32" alt="Up One Level" width="32" /></a></td>
<td class="online-navigation"><a title="Reference" href="sec-reference.html" rel="next"><img src="icons/next.png" border="0" height="32" alt="Next Page" width="32" /></a></td>
<td align="center" width="100%">Scenario Checker User Manual</td>
<td class="online-navigation"><a href="index.html" rel="contents" title="Table of Contents"><img src="icons/contents.png" border="0" height="32" alt="Contents" width="32" /></a></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" alt="" width="32" /></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" width="32" /></td>
</tr></table>
<div class="online-navigation">
<span><b class="navlabel">Previous:</b>
<a href="sec-recording.html" class="sectref" rel="prev">Recording a Scenario</a></span>
<span><b class="navlabel">Up:</b>
<a href="sec-tasks.html" class="sectref" rel="parent">Tasks</a></span>
<span><b class="navlabel">Next:</b>
<a href="sec-reference.html" class="sectref" rel="next">Reference</a></span>
</div>
</div>
<hr />
<!--
<span class="release-info">Release 2.4.3, documentation updated on 29 March 2006.</span>
-->
</div>
<!--End of Navigation Panel-->
<!--
<address>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</address>
-->
</body>
</html>